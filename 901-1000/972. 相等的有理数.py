# -*- coding: utf-8 -*-
import collections, heapq, itertools
from typing import List


# ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² S å’Œ Tï¼Œæ¯ä¸ªå­—ç¬¦ä¸²ä»£è¡¨ä¸€ä¸ªéè´Ÿæœ‰ç†æ•°ï¼Œåªæœ‰å½“å®ƒä»¬è¡¨ç¤ºç›¸åŒçš„æ•°å­—æ—¶æ‰è¿”å› trueï¼›å¦åˆ™ï¼Œè¿”å› falseã€‚å­—ç¬¦ä¸²ä¸­å¯ä»¥ä½¿ç”¨æ‹¬å·æ¥è¡¨ç¤ºæœ‰ç†
# æ•°çš„é‡å¤éƒ¨åˆ†ã€‚
#
#  é€šå¸¸ï¼Œæœ‰ç†æ•°æœ€å¤šå¯ä»¥ç”¨ä¸‰ä¸ªéƒ¨åˆ†æ¥è¡¨ç¤ºï¼šæ•´æ•°éƒ¨åˆ† <IntegerPart>ã€å°æ•°éé‡å¤éƒ¨åˆ† <NonRepeatingPart> å’Œå°æ•°é‡å¤éƒ¨åˆ† <(><
# RepeatingPart><)>ã€‚æ•°å­—å¯ä»¥ç”¨ä»¥ä¸‹ä¸‰ç§æ–¹æ³•ä¹‹ä¸€æ¥è¡¨ç¤ºï¼š
#
#
#  <IntegerPart>ï¼ˆä¾‹ï¼š0ï¼Œ12ï¼Œ123ï¼‰
#  <IntegerPart><.><NonRepeatingPart> ï¼ˆä¾‹ï¼š0.5ï¼Œ2.12ï¼Œ2.0001ï¼‰
#  <IntegerPart><.><NonRepeatingPart><(><RepeatingPart><)>ï¼ˆä¾‹ï¼š0.1(6)ï¼Œ0.9(9)ï¼Œ0.00(
# 1212)ï¼‰
#
#
#  åè¿›åˆ¶å±•å¼€çš„é‡å¤éƒ¨åˆ†é€šå¸¸åœ¨ä¸€å¯¹åœ†æ‹¬å·å†…è¡¨ç¤ºã€‚ä¾‹å¦‚ï¼š
#
#  1 / 6 = 0.16666666... = 0.1(6) = 0.1666(6) = 0.166(66)
#
#  0.1(6) æˆ– 0.1666(6) æˆ– 0.166(66) éƒ½æ˜¯ 1 / 6 çš„æ­£ç¡®è¡¨ç¤ºå½¢å¼ã€‚
#
#
#
#  ç¤ºä¾‹ 1ï¼š
#
#  è¾“å…¥ï¼šS = "0.(52)", T = "0.5(25)"
# è¾“å‡ºï¼štrue
# è§£é‡Šï¼šå› ä¸º "0.(52)" ä»£è¡¨ 0.52525252...ï¼Œè€Œ "0.5(25)" ä»£è¡¨ 0.52525252525.....ï¼Œåˆ™è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºç›¸åŒçš„
# æ•°å­—ã€‚
#
#
#  ç¤ºä¾‹ 2ï¼š
#
#  è¾“å…¥ï¼šS = "0.1666(6)", T = "0.166(66)"
# è¾“å‡ºï¼štrue
#
#
#  ç¤ºä¾‹ 3ï¼š
#
#  è¾“å…¥ï¼šS = "0.9(9)", T = "1."
# è¾“å‡ºï¼štrue
# è§£é‡Šï¼š
# "0.9(9)" ä»£è¡¨ 0.999999999... æ°¸è¿œé‡å¤ï¼Œç­‰äº 1 ã€‚[æœ‰å…³è¯´æ˜ï¼Œè¯·å‚é˜…æ­¤é“¾æ¥]
# "1." è¡¨ç¤ºæ•°å­— 1ï¼Œå…¶æ ¼å¼æ­£ç¡®ï¼š(IntegerPart) = "1" ä¸” (NonRepeatingPart) = "" ã€‚
#
#
#
#  æç¤ºï¼š
#
#
#  æ¯ä¸ªéƒ¨åˆ†ä»…ç”±æ•°å­—ç»„æˆã€‚
#  æ•´æ•°éƒ¨åˆ† <IntegerPart> ä¸ä¼šä»¥ 2 ä¸ªæˆ–æ›´å¤šçš„é›¶å¼€å¤´ã€‚ï¼ˆå¯¹æ¯ä¸ªéƒ¨åˆ†çš„æ•°å­—æ²¡æœ‰å…¶ä»–é™åˆ¶ï¼‰ã€‚
#  1 <= <IntegerPart>.length <= 4
#  0 <= <NonRepeatingPart>.length <= 4
#  1 <= <RepeatingPart>.length <= 4
#
#  Related Topics æ•°å­¦
#  ğŸ‘ 16 ğŸ‘ 0

# ç­‰æ¯”æ•°åˆ—
class Solution:
    def isRationalEqual(self, s: str, t: str) -> bool:
        from fractions import Fraction as F
        def cal(s):
            if '.' not in s:
                return F(int(s), 1)
            elif '(' not in s:
                l = s.index('.')
                Int = F(int(s[:l]), 1)
                if not s[l+1:]:
                    flo=0
                else:
                    flo = F(int(s[l + 1:]), 10 ** len(s[l + 1:]))
                return Int + flo
            else:
                l = s.index('.')
                r = s.index('(')
                Int = F(int(s[:l]), 1)
                if len(s[l+1:r])==0:
                    flo=0
                else:
                    flo = F(int(s[l + 1:r]), 10 ** len(s[l + 1:r]))
                other = s[r+1:-1]
                k=len(other)
                interval=r-l-1
                other_=F(int(other),10**interval*(10**k-1))
                return Int+flo+other_
        return cal(s)==cal(t)
Solution().isRationalEqual("0.9(9)", "1.")