#!/usr/bin/env python
# -*- coding: utf-8 -*-
from typing import List


#
#
#  Winston æ„é€ äº†ä¸€ä¸ªå¦‚ä¸Šæ‰€ç¤ºçš„å‡½æ•° func ã€‚ä»–æœ‰ä¸€ä¸ªæ•´æ•°æ•°ç»„ arr å’Œä¸€ä¸ªæ•´æ•° target ï¼Œä»–æƒ³æ‰¾åˆ°è®© |func(arr, l, r)
# - target| æœ€å°çš„ l å’Œ r ã€‚
#
#  è¯·ä½ è¿”å› |func(arr, l, r) - target| çš„æœ€å°å€¼ã€‚
#
#  è¯·æ³¨æ„ï¼Œ func çš„è¾“å…¥å‚æ•° l å’Œ r éœ€è¦æ»¡è¶³ 0 <= l, r < arr.length ã€‚
#
#
#
#  ç¤ºä¾‹ 1ï¼š
#
#  è¾“å…¥ï¼šarr = [9,12,3,7,15], target = 5
# è¾“å‡ºï¼š2
# è§£é‡Šï¼šæ‰€æœ‰å¯èƒ½çš„ [l,r] æ•°å¯¹åŒ…æ‹¬ [[0,0],[1,1],[2,2],[3,3],[4,4],[0,1],[1,2],[2,3],[3,4],[0,
# 2],[1,3],[2,4],[0,3],[1,4],[0,4]]ï¼Œ Winston å¾—åˆ°çš„ç›¸åº”ç»“æœä¸º [9,12,3,7,15,8,0,3,7,0,0,3,0
# ,0,0] ã€‚æœ€æ¥è¿‘ 5 çš„å€¼æ˜¯ 7 å’Œ 3ï¼Œæ‰€ä»¥æœ€å°å·®å€¼ä¸º 2 ã€‚
#
#
#  ç¤ºä¾‹ 2ï¼š
#
#  è¾“å…¥ï¼šarr = [1000000,1000000,1000000], target = 1
# è¾“å‡ºï¼š999999
# è§£é‡Šï¼šWinston è¾“å…¥å‡½æ•°çš„æ‰€æœ‰å¯èƒ½ [l,r] æ•°å¯¹å¾—åˆ°çš„å‡½æ•°å€¼éƒ½ä¸º 1000000 ï¼Œæ‰€ä»¥æœ€å°å·®å€¼ä¸º 999999 ã€‚
#
#
#  ç¤ºä¾‹ 3ï¼š
#
#  è¾“å…¥ï¼šarr = [1,2,4,8,16], target = 0
# è¾“å‡ºï¼š0
#
#
#
#
#  æç¤ºï¼š
#
#
#  1 <= arr.length <= 10^5
#  1 <= arr[i] <= 10^6
#  0 <= target <= 10^7
#
#  Related Topics ä½è¿ç®— çº¿æ®µæ ‘ æ•°ç»„ äºŒåˆ†æŸ¥æ‰¾
#  ğŸ‘ 42 ğŸ‘ 0


class Solution:
    def closestToTarget(self, arr: List[int], target: int) -> int:
        m = set()
        res = float('inf')
        for num in arr:
            tmp = set()
            for pre in m:
                tmp.add(pre & num)
            tmp.add(num)
            m = tmp
            for a in m:
                res = min(abs(a - target), res)
        return res


Solution().closestToTarget([9, 12, 3, 7, 15], 5)
