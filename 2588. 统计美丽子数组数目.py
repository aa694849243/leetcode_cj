# -*- coding: utf-8 -*-
# authorï¼š caoji
# datetimeï¼š 2023-05-18 0:16 
# ideï¼š PyCharm
# ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» 0 å¼€å§‹çš„æ•´æ•°æ•°ç»„nums ã€‚æ¯æ¬¡æ“ä½œä¸­ï¼Œä½ å¯ä»¥ï¼š
#
#
#  é€‰æ‹©ä¸¤ä¸ªæ»¡è¶³ 0 <= i, j < nums.length çš„ä¸åŒä¸‹æ ‡ i å’Œ j ã€‚
#  é€‰æ‹©ä¸€ä¸ªéè´Ÿæ•´æ•° k ï¼Œæ»¡è¶³ nums[i] å’Œ nums[j] åœ¨äºŒè¿›åˆ¶ä¸‹çš„ç¬¬ k ä½ï¼ˆä¸‹æ ‡ç¼–å·ä» 0 å¼€å§‹ï¼‰æ˜¯ 1 ã€‚
#  å°† nums[i] å’Œ nums[j] éƒ½å‡å» 2áµ ã€‚
#
#
#  å¦‚æœä¸€ä¸ªå­æ•°ç»„å†…æ‰§è¡Œä¸Šè¿°æ“ä½œè‹¥å¹²æ¬¡åï¼Œè¯¥å­æ•°ç»„å¯ä»¥å˜æˆä¸€ä¸ªå…¨ä¸º 0 çš„æ•°ç»„ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°å®ƒæ˜¯ä¸€ä¸ª ç¾ä¸½ çš„å­æ•°ç»„ã€‚
#
#  è¯·ä½ è¿”å›æ•°ç»„ nums ä¸­ ç¾ä¸½å­æ•°ç»„ çš„æ•°ç›®ã€‚
#
#  å­æ•°ç»„æ˜¯ä¸€ä¸ªæ•°ç»„ä¸­ä¸€æ®µè¿ç»­ éç©º çš„å…ƒç´ åºåˆ—ã€‚
#
#
#
#  ç¤ºä¾‹ 1ï¼š
#
#
# è¾“å…¥ï¼šnums = [4,3,1,2,4]
# è¾“å‡ºï¼š2
# è§£é‡Šï¼šnums ä¸­æœ‰ 2 ä¸ªç¾ä¸½å­æ•°ç»„ï¼š[4,3,1,2,4] å’Œ [4,3,1,2,4] ã€‚
# - æŒ‰ç…§ä¸‹è¿°æ­¥éª¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†å­æ•°ç»„ [3,1,2] ä¸­æ‰€æœ‰å…ƒç´ å˜æˆ 0 ï¼š
#   - é€‰æ‹© [3, 1, 2] å’Œ k = 1 ã€‚å°† 2 ä¸ªæ•°å­—éƒ½å‡å» 2Â¹ ï¼Œå­æ•°ç»„å˜æˆ [1, 1, 0] ã€‚
#   - é€‰æ‹© [1, 1, 0] å’Œ k = 0 ã€‚å°† 2 ä¸ªæ•°å­—éƒ½å‡å» 2â° ï¼Œå­æ•°ç»„å˜æˆ [0, 0, 0] ã€‚
# - æŒ‰ç…§ä¸‹è¿°æ­¥éª¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†å­æ•°ç»„ [4,3,1,2,4] ä¸­æ‰€æœ‰å…ƒç´ å˜æˆ 0 ï¼š
#   - é€‰æ‹© [4, 3, 1, 2, 4] å’Œ k = 2 ã€‚å°† 2 ä¸ªæ•°å­—éƒ½å‡å» 2Â² ï¼Œå­æ•°ç»„å˜æˆ [0, 3, 1, 2, 0] ã€‚
#   - é€‰æ‹© [0, 3, 1, 2, 0] å’Œ k = 0 ã€‚å°† 2 ä¸ªæ•°å­—éƒ½å‡å» 2â° ï¼Œå­æ•°ç»„å˜æˆ [0, 2, 0, 2, 0] ã€‚
#   - é€‰æ‹© [0, 2, 0, 2, 0] å’Œ k = 1 ã€‚å°† 2 ä¸ªæ•°å­—éƒ½å‡å» 2Â¹ ï¼Œå­æ•°ç»„å˜æˆ [0, 0, 0, 0, 0] ã€‚
#
#
#  ç¤ºä¾‹ 2ï¼š
#
#
# è¾“å…¥ï¼šnums = [1,10,4]
# è¾“å‡ºï¼š0
# è§£é‡Šï¼šnums ä¸­æ²¡æœ‰ä»»ä½•ç¾ä¸½å­æ•°ç»„ã€‚
#
#
#
#
#  æç¤ºï¼š
#
#
#  1 <= nums.length <= 10âµ
#  0 <= nums[i] <= 10â¶
#
#
#  Related Topics ä½è¿ç®— æ•°ç»„ å“ˆå¸Œè¡¨ å‰ç¼€å’Œ
#  ğŸ‘ 26 ğŸ‘ 0
import itertools


# leetcode submit region begin(Prohibit modification and deletion)
class Solution:
    def beautifulSubarrays(self, nums: List[int]) -> int:
        pre_xor = itertools.accumulate(nums, lambda x, y: x ^ y)
        cnts = {0: 1}
        ans = 0
        for x in pre_xor:
            if x in cnts:
                ans += cnts[x]
            cnts[x] = cnts.get(x, 0) + 1
        return ans
# leetcode submit region end(Prohibit modification and deletion)

