# -*- coding: utf-8 -*-
# ç»™ä½ ä¸€æ£µäºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å€¼ä¸º 1 åˆ° 9 ã€‚æˆ‘ä»¬ç§°äºŒå‰æ ‘ä¸­çš„ä¸€æ¡è·¯å¾„æ˜¯ ã€Œä¼ªå›žæ–‡ã€çš„ï¼Œå½“å®ƒæ»¡è¶³ï¼šè·¯å¾„ç»è¿‡çš„æ‰€æœ‰èŠ‚ç‚¹å€¼çš„æŽ’åˆ—ä¸­ï¼Œå­˜åœ¨ä¸€ä¸ªå›žæ–‡åºåˆ—ã€‚
#
#  è¯·ä½ è¿”å›žä»Žæ ¹åˆ°å¶å­èŠ‚ç‚¹çš„æ‰€æœ‰è·¯å¾„ä¸­ ä¼ªå›žæ–‡ è·¯å¾„çš„æ•°ç›®ã€‚
#
#
#
#  ç¤ºä¾‹ 1ï¼š
#
#
#
#  è¾“å…¥ï¼šroot = [2,3,1,3,1,null,1]
# è¾“å‡ºï¼š2
# è§£é‡Šï¼šä¸Šå›¾ä¸ºç»™å®šçš„äºŒå‰æ ‘ã€‚æ€»å…±æœ‰ 3 æ¡ä»Žæ ¹åˆ°å¶å­çš„è·¯å¾„ï¼šçº¢è‰²è·¯å¾„ [2,3,3] ï¼Œç»¿è‰²è·¯å¾„ [2,1,1] å’Œè·¯å¾„ [2,3,1] ã€‚
#      åœ¨è¿™äº›è·¯å¾„ä¸­ï¼Œåªæœ‰çº¢è‰²å’Œç»¿è‰²çš„è·¯å¾„æ˜¯ä¼ªå›žæ–‡è·¯å¾„ï¼Œå› ä¸ºçº¢è‰²è·¯å¾„ [2,3,3] å­˜åœ¨å›žæ–‡æŽ’åˆ— [3,2,3] ï¼Œç»¿è‰²è·¯å¾„ [2,1,1] å­˜åœ¨å›žæ–‡æŽ’
# åˆ— [1,2,1] ã€‚
#
#
#  ç¤ºä¾‹ 2ï¼š
#
#
#
#  è¾“å…¥ï¼šroot = [2,1,1,1,3,null,null,null,null,null,1]
# è¾“å‡ºï¼š1
# è§£é‡Šï¼šä¸Šå›¾ä¸ºç»™å®šäºŒå‰æ ‘ã€‚æ€»å…±æœ‰ 3 æ¡ä»Žæ ¹åˆ°å¶å­çš„è·¯å¾„ï¼šç»¿è‰²è·¯å¾„ [2,1,1] ï¼Œè·¯å¾„ [2,1,3,1] å’Œè·¯å¾„ [2,1] ã€‚
#      è¿™äº›è·¯å¾„ä¸­åªæœ‰ç»¿è‰²è·¯å¾„æ˜¯ä¼ªå›žæ–‡è·¯å¾„ï¼Œå› ä¸º [2,1,1] å­˜åœ¨å›žæ–‡æŽ’åˆ— [1,2,1] ã€‚
#
#
#  ç¤ºä¾‹ 3ï¼š
#
#  è¾“å…¥ï¼šroot = [9]
# è¾“å‡ºï¼š1
#
#
#
#
#  æç¤ºï¼š
#
#
#  ç»™å®šäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ç›®åœ¨ 1 åˆ° 10^5 ä¹‹é—´ã€‚
#  èŠ‚ç‚¹å€¼åœ¨ 1 åˆ° 9 ä¹‹é—´ã€‚
#
#  Related Topics ä½è¿ç®— æ ‘ æ·±åº¦ä¼˜å…ˆæœç´¢ å¹¿åº¦ä¼˜å…ˆæœç´¢ äºŒå‰æ ‘ ðŸ‘ 39 ðŸ‘Ž 0


# Definition for a binary tree node.
class TreeNode:
    def __init__(self, val=0, left=None, right=None):
        self.val = val
        self.left = left
        self.right = right


from trick.treenode.T import stringToTreeNode


class Solution:
    def pseudoPalindromicPaths(self, root: TreeNode) -> int:
        self.res = 0

        def rec(node: TreeNode, mask: int = 0) -> None:
            if not node:
                return
            mask ^= (1 << (node.val - 1))
            if not node.left and not node.right:
                self.res += +(str(bin(mask)).count('1') <= 1)
            rec(node.left, mask)
            rec(node.right, mask)

        rec(root)
        return self.res


a = stringToTreeNode('[2,3,1,3,1,null,1]')
Solution().pseudoPalindromicPaths(a)
