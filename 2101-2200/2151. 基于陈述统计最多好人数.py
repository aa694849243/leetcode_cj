# -*- coding: utf-8 -*-
# æ¸¸æˆä¸­å­˜åœ¨ä¸¤ç§è§’è‰²ï¼š
#
#
#  å¥½äººï¼šè¯¥è§’è‰²åªè¯´çœŸè¯ã€‚
#  åäººï¼šè¯¥è§’è‰²å¯èƒ½è¯´çœŸè¯ï¼Œä¹Ÿå¯èƒ½è¯´å‡è¯ã€‚
#
#
#  ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» 0 å¼€å§‹çš„äºŒç»´æ•´æ•°æ•°ç»„ statements ï¼Œå¤§å°ä¸º n x n ï¼Œè¡¨ç¤º n ä¸ªç©å®¶å¯¹å½¼æ­¤è§’è‰²çš„é™ˆè¿°ã€‚å…·ä½“æ¥è¯´ï¼Œstatements[
# i][j] å¯ä»¥æ˜¯ä¸‹è¿°å€¼ä¹‹ä¸€ï¼š
#
#
#  0 è¡¨ç¤º i çš„é™ˆè¿°è®¤ä¸º j æ˜¯ åäºº ã€‚
#  1 è¡¨ç¤º i çš„é™ˆè¿°è®¤ä¸º j æ˜¯ å¥½äºº ã€‚
#  2 è¡¨ç¤º i æ²¡æœ‰å¯¹ j ä½œå‡ºé™ˆè¿°ã€‚
#
#
#  å¦å¤–ï¼Œç©å®¶ä¸ä¼šå¯¹è‡ªå·±è¿›è¡Œé™ˆè¿°ã€‚å½¢å¼ä¸Šï¼Œå¯¹æ‰€æœ‰ 0 <= i < n ï¼Œéƒ½æœ‰ statements[i][i] = 2 ã€‚
#
#  æ ¹æ®è¿™ n ä¸ªç©å®¶çš„é™ˆè¿°ï¼Œè¿”å›å¯ä»¥è®¤ä¸ºæ˜¯ å¥½äºº çš„ æœ€å¤§ æ•°ç›®ã€‚
#
#
#
#  ç¤ºä¾‹ 1ï¼š
#  è¾“å…¥ï¼šstatements = [[2,1,2],[1,2,2],[2,0,2]]
# è¾“å‡ºï¼š2
# è§£é‡Šï¼šæ¯ä¸ªäººéƒ½åšä¸€æ¡é™ˆè¿°ã€‚
# - 0 è®¤ä¸º 1 æ˜¯å¥½äººã€‚
# - 1 è®¤ä¸º 0 æ˜¯å¥½äººã€‚
# - 2 è®¤ä¸º 1 æ˜¯åäººã€‚
# ä»¥ 2 ä¸ºçªç ´ç‚¹ã€‚
# - å‡è®¾ 2 æ˜¯ä¸€ä¸ªå¥½äººï¼š
#     - åŸºäº 2 çš„é™ˆè¿°ï¼Œ1 æ˜¯åäººã€‚
#     - é‚£ä¹ˆå¯ä»¥ç¡®è®¤ 1 æ˜¯åäººï¼Œ2 æ˜¯å¥½äººã€‚
#     - åŸºäº 1 çš„é™ˆè¿°ï¼Œç”±äº 1 æ˜¯åäººï¼Œé‚£ä¹ˆä»–åœ¨é™ˆè¿°æ—¶å¯èƒ½ï¼š
#         - è¯´çœŸè¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ä¼šå‡ºç°çŸ›ç›¾ï¼Œæ‰€ä»¥å‡è®¾æ— æ•ˆã€‚
#         - è¯´å‡è¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ0 ä¹Ÿæ˜¯åäººå¹¶ä¸”åœ¨é™ˆè¿°æ—¶è¯´å‡è¯ã€‚
#     - åœ¨è®¤ä¸º 2 æ˜¯å¥½äººçš„æƒ…å†µä¸‹ï¼Œè¿™ç»„ç©å®¶ä¸­åªæœ‰ä¸€ä¸ªå¥½äººã€‚
# - å‡è®¾ 2 æ˜¯ä¸€ä¸ªåäººï¼š
#     - åŸºäº 2 çš„é™ˆè¿°ï¼Œç”±äº 2 æ˜¯åäººï¼Œé‚£ä¹ˆä»–åœ¨é™ˆè¿°æ—¶å¯èƒ½ï¼š
#         - è¯´çœŸè¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ0 å’Œ 1 éƒ½æ˜¯åäººã€‚
#             - åœ¨è®¤ä¸º 2 æ˜¯åäººä½†è¯´çœŸè¯çš„æƒ…å†µä¸‹ï¼Œè¿™ç»„ç©å®¶ä¸­æ²¡æœ‰ä¸€ä¸ªå¥½äººã€‚
#         - è¯´å‡è¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ1 æ˜¯å¥½äººã€‚
#             - ç”±äº 1 æ˜¯å¥½äººï¼Œ0 ä¹Ÿæ˜¯å¥½äººã€‚
#             - åœ¨è®¤ä¸º 2 æ˜¯åäººä¸”è¯´å‡è¯çš„æƒ…å†µä¸‹ï¼Œè¿™ç»„ç©å®¶ä¸­æœ‰ä¸¤ä¸ªå¥½äººã€‚
# åœ¨æœ€ä½³æƒ…å†µä¸‹ï¼Œè‡³å¤šæœ‰ä¸¤ä¸ªå¥½äººï¼Œæ‰€ä»¥è¿”å› 2 ã€‚
# æ³¨æ„ï¼Œèƒ½å¾—åˆ°æ­¤ç»“è®ºçš„æ–¹æ³•ä¸æ­¢ä¸€ç§ã€‚
#
#
#  ç¤ºä¾‹ 2ï¼š
#  è¾“å…¥ï¼šstatements = [[2,0],[0,2]]
# è¾“å‡ºï¼š1
# è§£é‡Šï¼šæ¯ä¸ªäººéƒ½åšä¸€æ¡é™ˆè¿°ã€‚
# - 0 è®¤ä¸º 1 æ˜¯åäººã€‚
# - 1 è®¤ä¸º 0 æ˜¯åäººã€‚
# ä»¥ 0 ä¸ºçªç ´ç‚¹ã€‚
# - å‡è®¾ 0 æ˜¯ä¸€ä¸ªå¥½äººï¼š
#     - åŸºäºä¸ 0 çš„é™ˆè¿°ï¼Œ1 æ˜¯åäººå¹¶è¯´å‡è¯ã€‚
#     - åœ¨è®¤ä¸º 0 æ˜¯å¥½äººçš„æƒ…å†µä¸‹ï¼Œè¿™ç»„ç©å®¶ä¸­åªæœ‰ä¸€ä¸ªå¥½äººã€‚
# - å‡è®¾ 0 æ˜¯ä¸€ä¸ªåäººï¼š
#     - åŸºäº 0 çš„é™ˆè¿°ï¼Œç”±äº 0 æ˜¯åäººï¼Œé‚£ä¹ˆä»–åœ¨é™ˆè¿°æ—¶å¯èƒ½ï¼š
#         - è¯´çœŸè¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ0 å’Œ 1 éƒ½æ˜¯åäººã€‚
#             - åœ¨è®¤ä¸º 0 æ˜¯åäººä½†è¯´çœŸè¯çš„æƒ…å†µä¸‹ï¼Œè¿™ç»„ç©å®¶ä¸­æ²¡æœ‰ä¸€ä¸ªå¥½äººã€‚
#         - è¯´å‡è¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ1 æ˜¯å¥½äººã€‚
#             - åœ¨è®¤ä¸º 0 æ˜¯åäººä¸”è¯´å‡è¯çš„æƒ…å†µä¸‹ï¼Œè¿™ç»„ç©å®¶ä¸­åªæœ‰ä¸€ä¸ªå¥½äººã€‚
# åœ¨æœ€ä½³æƒ…å†µä¸‹ï¼Œè‡³å¤šæœ‰ä¸€ä¸ªå¥½äººï¼Œæ‰€ä»¥è¿”å› 1 ã€‚
# æ³¨æ„ï¼Œèƒ½å¾—åˆ°æ­¤ç»“è®ºçš„æ–¹æ³•ä¸æ­¢ä¸€ç§ã€‚
#
#
#
#
#  æç¤ºï¼š
#
#
#  n == statements.length == statements[i].length
#  2 <= n <= 15
#  statements[i][j] çš„å€¼ä¸º 0ã€1 æˆ– 2
#  statements[i][i] == 2
#
#
#  Related Topics ä½è¿ç®— æ•°ç»„ å›æº¯ æšä¸¾
#  ğŸ‘ 34 ğŸ‘ 0
import itertools
from typing import List
import collections


# leetcode submit region begin(Prohibit modification and deletion)
class Solution:
    def maximumGood(self, statements: List[List[int]]) -> int:
        n = len(statements)

        def check(lst):
            lst = set(lst)
            for c in lst:
                for j in range(n):
                    if (statements[c][j] == 0 and j in lst) or (statements[c][j] == 1 and j not in lst):
                        return False
            return True

        for size in range(n, 0, -1):
            for lst in itertools.combinations(range(n), size):
                if check(lst):
                    return size
        return 0


# leetcode submit region end(Prohibit modification and deletion)
print(Solution().maximumGood([[2, 0], [0, 2]]))
