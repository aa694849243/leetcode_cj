# -*- coding: utf-8 -*-
# ç»™ä½ ä¸€ä¸ªä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸² s ã€‚åœ¨ä¸€æ­¥æ“ä½œä¸­ï¼Œä½ å¯ä»¥ï¼š
#
#
#  åˆ é™¤ æ•´ä¸ªå­—ç¬¦ä¸² s ï¼Œæˆ–è€…
#  å¯¹äºæ»¡è¶³ 1 <= i <= s.length / 2 çš„ä»»æ„ i ï¼Œå¦‚æœ s ä¸­çš„ å‰ i ä¸ªå­—æ¯å’Œæ¥ä¸‹æ¥çš„ i ä¸ªå­—æ¯ ç›¸ç­‰ ï¼Œåˆ é™¤ å‰ i ä¸ªå­—æ¯ã€‚
#
#
#
#  ä¾‹å¦‚ï¼Œå¦‚æœ s = "ababc" ï¼Œé‚£ä¹ˆåœ¨ä¸€æ­¥æ“ä½œä¸­ï¼Œä½ å¯ä»¥åˆ é™¤ s çš„å‰ä¸¤ä¸ªå­—æ¯å¾—åˆ° "abc" ï¼Œå› ä¸º s çš„å‰ä¸¤ä¸ªå­—æ¯å’Œæ¥ä¸‹æ¥çš„ä¸¤ä¸ªå­—æ¯éƒ½ç­‰äº
# "ab" ã€‚
#
#  è¿”å›åˆ é™¤ s æ‰€éœ€çš„æœ€å¤§æ“ä½œæ•°ã€‚
#
#
#
#  ç¤ºä¾‹ 1ï¼š
#
#
# è¾“å…¥ï¼šs = "abcabcdabc"
# è¾“å‡ºï¼š2
# è§£é‡Šï¼š
# - åˆ é™¤å‰ 3 ä¸ªå­—æ¯ï¼ˆ"abc"ï¼‰ï¼Œå› ä¸ºå®ƒä»¬å’Œæ¥ä¸‹æ¥ 3 ä¸ªå­—æ¯ç›¸ç­‰ã€‚ç°åœ¨ï¼Œs = "abcdabc"ã€‚
# - åˆ é™¤å…¨éƒ¨å­—æ¯ã€‚
# ä¸€å…±ç”¨äº† 2 æ­¥æ“ä½œï¼Œæ‰€ä»¥è¿”å› 2 ã€‚å¯ä»¥è¯æ˜ 2 æ˜¯æ‰€éœ€çš„æœ€å¤§æ“ä½œæ•°ã€‚
# æ³¨æ„ï¼Œåœ¨ç¬¬äºŒæ­¥æ“ä½œä¸­æ— æ³•å†æ¬¡åˆ é™¤ "abc" ï¼Œå› ä¸º "abc" çš„ä¸‹ä¸€æ¬¡å‡ºç°å¹¶ä¸æ˜¯ä½äºæ¥ä¸‹æ¥çš„ 3 ä¸ªå­—æ¯ã€‚
#
#
#  ç¤ºä¾‹ 2ï¼š
#
#
# è¾“å…¥ï¼šs = "aaabaab"
# è¾“å‡ºï¼š4
# è§£é‡Šï¼š
# - åˆ é™¤ç¬¬ä¸€ä¸ªå­—æ¯ï¼ˆ"a"ï¼‰ï¼Œå› ä¸ºå®ƒå’Œæ¥ä¸‹æ¥çš„å­—æ¯ç›¸ç­‰ã€‚ç°åœ¨ï¼Œs = "aabaab"ã€‚
# - åˆ é™¤å‰ 3 ä¸ªå­—æ¯ï¼ˆ"aab"ï¼‰ï¼Œå› ä¸ºå®ƒä»¬å’Œæ¥ä¸‹æ¥ 3 ä¸ªå­—æ¯ç›¸ç­‰ã€‚ç°åœ¨ï¼Œs = "aab"ã€‚
# - åˆ é™¤ç¬¬ä¸€ä¸ªå­—æ¯ï¼ˆ"a"ï¼‰ï¼Œå› ä¸ºå®ƒå’Œæ¥ä¸‹æ¥çš„å­—æ¯ç›¸ç­‰ã€‚ç°åœ¨ï¼Œs = "ab"ã€‚
# - åˆ é™¤å…¨éƒ¨å­—æ¯ã€‚
# ä¸€å…±ç”¨äº† 4 æ­¥æ“ä½œï¼Œæ‰€ä»¥è¿”å› 4 ã€‚å¯ä»¥è¯æ˜ 4 æ˜¯æ‰€éœ€çš„æœ€å¤§æ“ä½œæ•°ã€‚
#
#
#  ç¤ºä¾‹ 3ï¼š
#
#
# è¾“å…¥ï¼šs = "aaaaa"
# è¾“å‡ºï¼š5
# è§£é‡Šï¼šåœ¨æ¯ä¸€æ­¥æ“ä½œä¸­ï¼Œéƒ½å¯ä»¥ä»…åˆ é™¤ s çš„ç¬¬ä¸€ä¸ªå­—æ¯ã€‚
#
#
#
#
#  æç¤ºï¼š
#
#
#  1 <= s.length <= 4000
#  s ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ
#
#
#  Related Topics å­—ç¬¦ä¸² åŠ¨æ€è§„åˆ’ å­—ç¬¦ä¸²åŒ¹é… å“ˆå¸Œå‡½æ•° æ»šåŠ¨å“ˆå¸Œ
#  ğŸ‘ 34 ğŸ‘ 0


# leetcode submit region begin(Prohibit modification and deletion)
# çº¿æ€§dp
class Solution:
    def deleteString(self, s: str) -> int:
        n = len(s)
        if len(set(s)) == 1:# ç‰¹åˆ¤å…¨éƒ¨ç›¸åŒçš„æƒ…å†µï¼Œè¦ä¸ç„¶è¶…æ—¶
            return n
        lcp = [[0] * (n + 1) for _ in range(n + 1)]
        for i in range(n - 1, -1, -1):  # é¢„å¤„ç†s[i:]å’Œs[j:]çš„æœ€é•¿å…¬å…±å‰ç¼€é•¿åº¦
            for j in range(n - 1, i, -1):
                if s[i] == s[j]:
                    lcp[i][j] = lcp[i + 1][j + 1] + 1
        f = [0] * n
        for i in range(n - 1, -1, -1):
            for length in range(1, (n - i) // 2 + 1):
                if lcp[i][i + length] >= length:  # s[i:i+length]å¯ä»¥åˆ 
                    f[i] = max(f[i], f[i + length])
            f[i] += 1
        return f[0]

# leetcode submit region end(Prohibit modification and deletion)
