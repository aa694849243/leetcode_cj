# -*- coding: utf-8 -*-
import collections
from typing import List


# éº»å°†çš„æ¸¸æˆè§„åˆ™ä¸­ï¼Œå…±æœ‰ä¸¤ç§æ–¹å¼å‡‘æˆã€Œä¸€ç»„ç‰Œã€ï¼š
# - é¡ºå­ï¼šä¸‰å¼ ç‰Œé¢æ•°å­—è¿ç»­çš„éº»å°†ï¼Œä¾‹å¦‚ [4,5,6]
# - åˆ»å­ï¼šä¸‰å¼ ç‰Œé¢æ•°å­—ç›¸åŒçš„éº»å°†ï¼Œä¾‹å¦‚ [10,10,10]
#
# ç»™å®šè‹¥å¹²æ•°å­—ä½œä¸ºéº»å°†ç‰Œçš„æ•°å€¼ï¼ˆè®°ä½œä¸€ç»´æ•°ç»„ `tiles`ï¼‰ï¼Œè¯·è¿”å›æ‰€ç»™ `tiles` æœ€å¤šå¯ç»„æˆçš„ç‰Œç»„æ•°ã€‚
#
# æ³¨æ„ï¼šå‡‘æˆç‰Œç»„æ—¶ï¼Œæ¯å¼ ç‰Œä»…èƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚
#
# **ç¤ºä¾‹ 1ï¼š**
# >è¾“å…¥ï¼š`tiles = [2,2,2,3,4]`
# >
# >è¾“å‡ºï¼š`1`
# >
# >è§£é‡Šï¼šæœ€å¤šå¯ä»¥ç»„åˆå‡º [2,2,2] æˆ–è€… [2,3,4] å…¶ä¸­ä¸€ç»„ç‰Œã€‚
#
# **ç¤ºä¾‹ 2ï¼š**
# >è¾“å…¥ï¼š`tiles = [2,2,2,3,4,1,3]`
# >
# >è¾“å‡ºï¼š`2`
# >
# >è§£é‡Šï¼šæœ€å¤šå¯ä»¥ç»„åˆå‡º [1,2,3] ä¸ [2,3,4] ä¸¤ç»„ç‰Œã€‚
#
# **æç¤ºï¼š**
# - `1 <= tiles.length <= 10^5`
# - `1 <= tiles[i] <= 10^9` Related Topics æ•°ç»„ åŠ¨æ€è§„åˆ’ æ’åº
#  ğŸ‘ 10 ğŸ‘ 0


class Solution:
    def maxGroupNumber(self, tiles: List[int]) -> int:
        m = collections.Counter(tiles)
        dp = {(0, 0): 0}
        for num in sorted(m):
            ndp=collections.defaultdict(int)
            x,y,z=m[num],m[num+1],m[num+2]
            for (i,j),c in dp.items():
                for k in range(3):
                    if i+k<=x and j+k<=y and k<=z:
                        ndp[j+k,k]=max(ndp[j+k,k],c+(x-i-k)//3+k)
            dp=ndp
        return max(dp.values())
Solution().maxGroupNumber([2,2,2,3,3,3,4,4,4,4,7,7,7,8,9,9,10,10])